#! /usr/bin/env node

const fs = require('fs')
const parse = require('./parseArgs')

const dir = process.cwd()

const { isAll, isList } = parse()
let files = fs.readdirSync(dir)
let output = ''

if (!isAll) {
  files = files.filter((file) => !file.startsWith('.'))
}

if (!isList) {
  files = files.forEach((file) => (output += `${file}          `))

  console.log(output)
} else {
  files.forEach((file, index) =>
    index !== files.length - 1 ? (output += `${file}\n`) : (output += file)
  )

  console.log(output)
}
